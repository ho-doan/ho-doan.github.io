"use strict";(self.webpackChunkarcgis_node=self.webpackChunkarcgis_node||[]).push([[3976],{11479:(e,t,r)=>{r.d(t,{A:()=>w});var i,l=r(82392),s=r(62991),a=r(84977),o=r(21750),n=r(81482),d=(r(6273),r(80861),r(67498),r(26325)),u=r(77498),c=r(51216);const f={read:{reader:u.LF},write:{writer:u.M9,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},h={read:{reader:u.LF},write:{writer:u.M9,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},p={name:"showExcludedLabels",default:!0};let y=i=class extends a.oY{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const r=super.write(e,t);if(t?.origin){if(r.filter){const e=Object.keys(r.filter);if(e.length>1||"where"!==e[0])return t.messages?.push(new s.A("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in r)return t.messages?.push(new s.A("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new i({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,l._)([(0,n.MZ)({type:c.A,json:{write:{allowNull:!0,writer(e,t,r,i){const l=e?.write({},i);l&&0!==Object.keys(l).length?(0,o.sM)(r,l,t):(0,o.sM)(r,null,t)}}}})],y.prototype,"filter",void 0),(0,l._)([(0,n.MZ)({json:{read:u.LF,write:{writer:u.M9,allowNull:!0},origins:{"web-map":f,"portal-item":f}}})],y.prototype,"includedEffect",void 0),(0,l._)([(0,n.MZ)({json:{read:u.LF,write:{writer:u.M9,allowNull:!0},origins:{"web-map":h,"portal-item":h}}})],y.prototype,"excludedEffect",void 0),(0,l._)([(0,n.MZ)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":p,"portal-item":p}}})],y.prototype,"excludedLabelsVisible",void 0),y=i=(0,l._)([(0,d.$)("esri.layers.support.FeatureEffect")],y);const w=y},19802:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var i=r(82392),l=r(20857),s=r(6273),a=r(61985),o=r(81482),n=(r(80861),r(67498),r(26325)),d=r(9327),u=r(161),c=r(93766),f=r(65956),h=r(24775),p=r(96383);let y=class extends((0,d.n)((0,c.w)(h.A))){constructor(){super(...arguments),this.type="integrated-mesh-3d",this._elevationContext="im",this._isIntegratedMesh=!0,this._supportsLabeling=!1,this._needsNormals=!(0,s.A)("disable-feature:im-shading"),this.drapeTargetType=u.sv.WithoutRasterImage}get i3slayer(){return this.layer}get updatingProgressValue(){return this._controller?.updatingProgress??0}get lodFactor(){return this.view?.qualitySettings?.sceneService?.integratedMesh?.lodFactor??1}get progressiveLoadFactor(){return this.lodFactor>=1?.2:1}get visibleAtCurrentScale(){return(0,p.E5)(this.i3slayer.effectiveScaleRange,this.view.terrainScale)}get layerPopupEnabledAndHasTemplate(){return!1}initialize(){this._updatingHandles.add((()=>this.layer.modifications),(()=>this._loadModifications()),a.Vh),this.view.basemapTerrain.overlayManager.registerDrapeTarget(this)}destroy(){this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this)}_createLayerGraphic(){return new l.A({layer:this.layer,sourceLayer:this.layer})}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}_loadModifications(){if(this.removeHandles("modifications"),null==this.layer.modifications)return void(this._modifications=[]);const e=this.layer.modifications;this.addHandles(this._updatingHandles.addOnCollectionChange((()=>e),(()=>this._modifications=e.toArray()),a.Vh),"modifications")}};(0,i._)([(0,o.MZ)()],y.prototype,"layer",void 0),(0,i._)([(0,o.MZ)()],y.prototype,"i3slayer",null),(0,i._)([(0,o.MZ)(f.S)],y.prototype,"updatingProgress",void 0),(0,i._)([(0,o.MZ)()],y.prototype,"updatingProgressValue",null),(0,i._)([(0,o.MZ)()],y.prototype,"lodFactor",null),(0,i._)([(0,o.MZ)({readOnly:!0})],y.prototype,"progressiveLoadFactor",null),(0,i._)([(0,o.MZ)({readOnly:!0})],y.prototype,"visibleAtCurrentScale",null),y=(0,i._)([(0,n.$)("esri.views.3d.layers.IntegratedMeshLayerView3D")],y);const w=y}}]);