"use strict";(self.webpackChunkarcgis_node=self.webpackChunkarcgis_node||[]).push([[2941],{21898:(e,t,r)=>{r.d(t,{A:()=>f});var i=r(82392),n=(r(3313),r(14755)),o=r(80575),s=r(84977),a=r(57725),c=r(81482),d=r(77380),l=(r(67498),r(6273),r(26325)),u=r(8636),g=r(18031),h=r(1912);let p=class extends((0,n.O)(s.oY)){constructor(e){super(e),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(e){return this.heading===e.heading&&this.tilt===e.tilt&&(0,a.CM)(this.position,e.position)&&this.width===e.width&&this.height===e.height}};(0,i._)([(0,c.MZ)({readOnly:!0,json:{read:!1,write:!0}})],p.prototype,"type",void 0),(0,i._)([(0,c.MZ)({type:h.A}),(0,g.P)()],p.prototype,"position",void 0),(0,i._)([(0,c.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,g.P)(),(0,d.w)((e=>o.ie.normalize((0,u.GB)(e),0,!0)))],p.prototype,"heading",void 0),(0,i._)([(0,c.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,g.P)(),(0,d.w)((e=>o.ie.normalize((0,u.GB)(e),0,!0)))],p.prototype,"tilt",void 0),(0,i._)([(0,c.MZ)({type:Number,nonNullable:!0}),(0,g.P)()],p.prototype,"width",void 0),(0,i._)([(0,c.MZ)({type:Number,nonNullable:!0}),(0,g.P)()],p.prototype,"height",void 0),p=(0,i._)([(0,l.$)("esri.analysis.SlicePlane")],p);const f=p},70465:(e,t,r)=>{r.d(t,{S:()=>l,b:()=>d});var i=r(21586),n=r(92121),o=r(19635),s=r(41014),a=r(92624),c=r(33763);function d(e){const t=new a.N5,{vertex:r,fragment:d,attributes:l,varyings:u}=t;return(0,i.NB)(r,e),l.add(c.r.POSITION,"vec3"),l.add(c.r.UV0,"vec2"),u.add("vUV","vec2"),r.code.add(s.H`void main(void) {
vUV = uv0;
gl_Position = proj * view * vec4(position, 1.0);
}`),d.uniforms.add(new n.E("backgroundColor",(e=>e.backgroundColor)),new n.E("gridColor",(e=>e.gridColor)),new o.m("gridWidth",(e=>e.gridWidth))),d.code.add(s.H`void main() {
const float LINE_WIDTH = 1.0;
vec2 uvScaled = vUV * gridWidth;
vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));
vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);
grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);
grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);
float gridFade = max(grid.x, grid.y);
float gridAlpha = gridColor.a * gridFade;
fragColor =
vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +
vec4(gridColor.rgb, 1.0) * gridAlpha;
}`),t}const l=Object.freeze(Object.defineProperty({__proto__:null,build:d},Symbol.toStringTag,{value:"Module"}))},99064:(e,t,r)=>{r.d(t,{b:()=>f});var i=r(93814),n=r(61985),o=r(19913),s=r(62530),a=r(2950),c=r(12014),d=r(59484),l=r(49190),u=r(74316),g=r(31272),h=r(16596),p=r(10715);class f extends c.q{constructor(e,t){const r=(0,a.wZ)(t),o=r?s.aj:s.YG,c=o*s.UF,l=s.YG,u={renderOccluded:g.m$.OccludeAndTransparent,isDecoration:!0},p=new h.W({...u,width:o}),f=new h.W({...u,width:c}),m=new h.W({...u,width:l});super({view:e,...d.MO,...b({isCorner:r,unfocusedMaterial:p,focusedMaterial:f,outlineMaterial:m})}),this._themeHandle=(0,n.wB)((()=>e.effectiveTheme.accentColor),(e=>{const t=i.A.toUnitRGBA(e);p.setParameters({color:t}),f.setParameters({color:t}),m.setParameters({color:t})}),n.Vh)}destroy(){this._themeHandle.remove(),super.destroy()}}function b({isCorner:e,unfocusedMaterial:t,focusedMaterial:r,outlineMaterial:i}){const n=e?[(0,o.fA)(1,0,0),(0,o.fA)(0,0,0),(0,o.fA)(0,1,0)]:[(0,o.fA)(1,0,0),(0,o.fA)(-1,0,0)];return{renderObjects:[new l.M((0,u.Z8)(t,n),p.p7.Unfocused|a.oc),new l.M((0,u.Z8)(r,n),p.p7.Focused|a.oc),new l.M((0,u.Z8)(i,n),a.zm)],collisionType:{type:"line",paths:[n]},radius:e?s.E3:s.sd,state:a.oc}}},52085:(e,t,r)=>{r.d(t,{Q:()=>_});var i=r(93814),n=r(60861),o=r(61985),s=r(2950),a=r(12014),c=r(59484),d=r(49190),l=r(10941),u=r(53633),g=r(74316),h=r(31272),p=r(33763),f=r(75390),b=r(16596),m=r(10715);class _ extends a.q{constructor(e,t){const r=new f.r({transparent:!0,writeDepth:!1,renderOccluded:h.m$.Opaque,isDecoration:!0}),s=c.eO.calloutWidth,a=new b.W({width:s,renderOccluded:h.m$.OccludeAndTransparent,isDecoration:!0});super({view:e,...w({imageMaterial:r,calloutMaterial:a})}),this._currentTexture=null,this._themeHandle=(0,o.wB)((()=>e.effectiveTheme.accentColor),(e=>{const o=(0,n._L)(e,.5),s=(0,n.bJ)(e),c=this._currentTexture,d=t(o,s);r.setParameters({textureId:d.texture.id}),a.setParameters({color:i.A.toUnitRGBA(e)}),this._currentTexture=d,c?.release()}),o.Vh)}destroy(){this._themeHandle.remove(),this._currentTexture?.release(),super.destroy()}}function w({imageMaterial:e,calloutMaterial:t}){const{focusMultiplier:r,calloutLength:i,discRadius:n}=c.eO,o=n*r,a=(e,t)=>{const r=[0,1,2,2,3,0];return new u.V(t,[[p.r.POSITION,new l.n([i-e,-e,0,i+e,-e,0,i+e,e,0,i-e,e,0],r,3,!0)],[p.r.UV0,new l.n([0,0,1,0,1,1,0,1],r,2,!0)]])},h=(0,g.Z8)(t,[[0,0,0],[i-n,0,0]]),f=(0,g.Z8)(t,[[0,0,0],[i-o,0,0]]),b=s.s5;return{autoScaleRenderObjects:!1,collisionPriority:1,collisionType:{type:"disc",direction:[0,0,1],offset:[i,0,0]},focusMultiplier:r,radius:n,renderObjects:[new d.M(a(n,e),m.p7.Unfocused|b),new d.M(h,m.p7.Unfocused|b),new d.M(a(o,e),m.p7.Focused|b),new d.M(f,m.p7.Focused|b)],state:b}}},38530:(e,t,r)=>{r.d(t,{r:()=>i,x:()=>M});var i,n,o=r(93814),s=r(60861),a=r(61985),c=r(25336),d=r(26110),l=r(31753),u=r(80347),g=r(19913),h=r(11631),p=r(62530),f=r(2950),b=r(12014),m=r(49190),_=r(10875),w=r(74316),A=r(31272),T=r(29239),O=r(16596),v=r(10715);(n=i||(i={}))[n.CENTER_ON_CALLOUT=0]="CENTER_ON_CALLOUT",n[n.CENTER_ON_ARROW=1]="CENTER_ON_ARROW";class M extends b.q{constructor(e,t){const r=new O.W({width:1,renderOccluded:A.m$.OccludeAndTransparent,isDecoration:!0}),i=new T.v({cullFace:_.s2.Back,renderOccluded:A.m$.Opaque,isDecoration:!0}),n=new T.v({cullFace:_.s2.Back,renderOccluded:A.m$.Opaque,isDecoration:!0}),c=new T.v({cullFace:_.s2.Back,renderOccluded:A.m$.Opaque,isDecoration:!0}),d=new T.v({writeDepth:!1,cullFace:_.s2.Front,renderOccluded:A.m$.Transparent,isDecoration:!0});super({view:e,...E({offsetMode:t,tubeMaterial:i,tipMaterial:n,capMaterial:c,outlineMaterial:d,calloutMaterial:r})}),this._themeHandle=(0,a.wB)((()=>e.effectiveTheme.accentColor),(e=>{const t=(0,s.bJ)(e),a=o.A.toUnitRGBA(e),l=o.A.toUnitRGBA(t),u=o.A.toUnitRGBA(o.A.blendColors(t,e,.4)),g=o.A.toUnitRGBA(o.A.blendColors(t,e,.14));r.setParameters({color:a}),i.setParameters({color:g}),n.setParameters({color:l}),c.setParameters({color:u}),d.setParameters({color:a})}),a.Vh)}destroy(){this._themeHandle.remove(),super.destroy()}}function E({offsetMode:e,tubeMaterial:t,tipMaterial:r,capMaterial:n,outlineMaterial:o,calloutMaterial:s}){const a=e===i.CENTER_ON_CALLOUT?p.I4:0,c=[(0,g.fA)(a,0,-p.vA/2),(0,g.fA)(a,0,p.vA/2)],d=function(e){const t=(0,u.f)((0,g.vt)(),e[e.length-1],e[e.length-2]);(0,u.n)(t,t),(0,u.j)(t,t,p.xj),(0,u.g)(t,t,e[e.length-1]);{const r=(0,u.f)((0,g.vt)(),e[0],e[1]);return(0,u.n)(r,r),(0,u.j)(r,r,p.xj),(0,u.g)(r,r,e[0]),[r,...e,t]}}(c),l=I({vertices:c,padding:0,materials:{tube:t,tip:r,cap:n}}),h=I({vertices:c,padding:p.D9,materials:{tube:o,tip:o,cap:o}}),b=(0,w.Z8)(s,[[a,0,0],[a-p.I4,0,0]]),_=(0,w.Z8)(s,[[a,0,0],[a-p.I4,0,0]]);return{renderObjects:[...l.normal.map((e=>new m.M(e,v.p7.Unfocused|f.s5))),...h.normal.map((e=>new m.M(e,v.p7.Unfocused|f.s5))),new m.M(b,v.p7.Unfocused|f.s5|f.xM),...l.focused.map((e=>new m.M(e,v.p7.Focused|f.s5))),...h.focused.map((e=>new m.M(e,v.p7.Focused|f.s5))),new m.M(_,v.p7.Focused|f.s5|f.xM)],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[d]},collisionPriority:1,radius:p.rb,state:f.s5}}function I({vertices:e,padding:t,materials:r}){const i=i=>{const n=e.slice(0),o=(0,u.f)(h.rq.get(),n[0],n[1]);(0,u.n)(o,o);const s=(0,u.f)(h.rq.get(),n[n.length-1],n[n.length-2]);if((0,u.n)(s,s),t>0){const e=(0,u.j)((0,g.vt)(),s,-t);n[n.length-1]=(0,u.g)(e,e,n[n.length-1]);const r=(0,u.j)((0,g.vt)(),o,-t);n[0]=(0,u.g)(r,r,n[0])}const a=i?p.cE:1,f=p.xj*a,b=p.rb*a,m=(0,c.D_)(h.Rc.get());if(t>0){const e=f/4,r=(0,u.s)(h.rq.get(),0,e,0),i=1+t/e;(0,c.Tl)(m,m,r),(0,c.hs)(m,m,(0,u.s)(h.rq.get(),i,i,i)),(0,c.Tl)(m,m,(0,u.j)(r,r,-1/i))}const _=(0,c.D_)((0,d.vt)()),A=(0,g.fA)(0,1,0),T=(0,c.I0)((0,d.vt)(),(0,l.Yc)(h.J8.get(),A,s));T[12]=n[n.length-1][0],T[13]=n[n.length-1][1],T[14]=n[n.length-1][2],(0,c.lw)(T,T,m);const O=r.tube,v=function(e,t,r){const i=[],n=12;for(let t=0;t<n;t++){const r=t/n*2*Math.PI;i.push([Math.cos(r)*e,Math.sin(r)*e])}return(0,w.Nq)(r,i,t,[],[],!1)}(p.qD*(i?p.FF:1)+t,n,O);v.transformation=_;const M=[v],E=r.tip,I=(0,w.EE)(E,f,b,24,!1,!1,!0);I.transformation=T,M.push(I);const C=r.cap,R=(0,w.EE)(C,f,b,24,!1,!0,!1);R.transformation=T,M.push(R);const P=(0,c.I0)((0,d.vt)(),(0,l.Yc)(h.J8.get(),A,o));return P[12]=n[0][0],P[13]=n[0][1],P[14]=n[0][2],(0,c.lw)(P,P,m),M.push(I.instantiate({transformation:P})),M.push(R.instantiate({transformation:P})),M};return{normal:i(!1),focused:i(!0)}}},67199:(e,t,r)=>{r.d(t,{E$:()=>n,Or:()=>o,qb:()=>s});var i=r(60861);const n=(0,r(76982).fA)(0,0,0,.04);function o({accentColor:e}){return(0,i.f6)(e,.5)}function s({accentColor:e}){return(0,i.f6)(e,.7)}},62530:(e,t,r)=>{r.d(t,{Bw:()=>b,D9:()=>v,DG:()=>u,E3:()=>C,FF:()=>c,Hb:()=>o,I4:()=>T,Jj:()=>I,Ll:()=>h,NT:()=>m,Sw:()=>P,UF:()=>a,YG:()=>E,ZR:()=>p,aE:()=>q,aj:()=>M,c1:()=>l,cE:()=>d,cO:()=>f,lS:()=>g,qD:()=>_,rb:()=>w,sd:()=>R,vA:()=>O,vo:()=>s,xj:()=>A});var i=r(6273),n=r(4506);const o=(0,i.A)("mac")?"Meta":"Control",s="Shift",a=2,c=1.15,d=1.15,l=2500,u=.02,g=Math.cos((0,n.kU)(45)),h=Math.cos((0,n.kU)(5)),p=.95,f=.3,b=2,m=1,_=3,w=11,A=22.5,T=40,O=48,v=2.25,M=4,E=1,I=.3,C=6,R=4,P=1600,q=.4},2950:(e,t,r)=>{r.d(t,{s5:()=>Te,xM:()=>Me,CB:()=>Oe,pu:()=>ve,h7:()=>ne,Yx:()=>he,DI:()=>re,PI:()=>be,tn:()=>fe,FK:()=>ee,W6:()=>oe,r_:()=>ie,wZ:()=>pe,fE:()=>Pe,d0:()=>me,Md:()=>we,bR:()=>Ae,oc:()=>Ce,zm:()=>Re,xQ:()=>te,gi:()=>ae,d8:()=>ce,Oj:()=>de,vJ:()=>se});r(3313);var i=r(21898),n=(r(6273),r(80861)),o=r(4506),s=r(23572),a=r(25336),c=r(80347),d=r(19913),l=r(34561),u=r(60929),g=r(7775),h=r(87368),p=r(63918),f=r(74695),b=r(11631),m=r(67199),_=r(62530),w=r(5751),A=r(59484),T=r(9921),O=r(74772),v=r(76982),M=r(87795),E=r(74316),I=r(31272),C=r(77788),R=r(51662),P=r(76687),q=r(15449),N=r(66356),S=r(83938),L=r(59615),j=r(41014),y=r(21979),U=r(19362),x=r(74242),D=r(24441),V=r(70465),W=r(68716),k=r(15651);class H extends j.Y{constructor(){super(...arguments),this.backgroundColor=(0,v.fA)(1,0,0,.5),this.gridColor=(0,v.fA)(0,1,0,.5),this.gridWidth=4}}class G extends U.w{initializeProgram(e){return new D.B(e.rctx,G.shader.get().build(this.configuration),x.D)}initializePipeline(){return(0,k.Ey)({blending:(0,k.p3)(W.dn.ONE,W.dn.ONE,W.dn.ONE_MINUS_SRC_ALPHA,W.dn.ONE_MINUS_SRC_ALPHA),depthTest:{func:W.MT.LESS},colorWrite:k.wE})}}G.shader=new y.$(V.S,(()=>r.e(8577).then(r.bind(r,88577))));class Z extends L.W{constructor(e){super(e,new B),this.produces=new Map([[q.N.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,e=>e===C.V.Color]]),this._configuration=new R.K}createBufferWriter(){return new N.Z(S.zK)}createGLMaterial(e){return new F(e)}getConfiguration(){return this._configuration}}class F extends P.A{constructor(e){super(e),this.ensureTechnique(G,null)}beginSlot(){return this.technique}}class B extends H{constructor(){super(...arguments),this.renderOccluded=I.m$.Occlude,this.isDecoration=!1}}class $ extends M.X{constructor(e){super(e),this._material=null,this._renderOccluded=I.m$.OccludeAndTransparent,this._gridWidth=1,this._gridColor=(0,v.fA)(1,0,0,1),this._backgroundColor=(0,v.fA)(1,0,0,1),this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(e){this._gridWidth!==e&&(this._gridWidth=e,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(e){(0,O.c)(this._gridColor,e),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){(0,O.c)(this._backgroundColor,e),this._updateMaterial()}createExternalResources(){this._material=new Z(this._materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(e){null!=this._material&&e(this._material)}createGeometries(e){if(null!=this._material){const t=(0,E.Gj)(this._material);e.addGeometry(t)}}get _materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){null!=this._material&&this._material.setParameters(this._materialParameters)}}var Y,J,z=r(77962),X=r(86300),K=r(10715),Q=r(1912);r(8e3);function ee(e,t,r,i,n,o,s,a){return function(e,t,r,i,n,o){const s=(0,c.m)(e,t),a=b.rq.get(),d=b.rq.get();switch(i===ve.HORIZONTAL_OR_VERTICAL?Math.abs(s)>_.lS?ve.HORIZONTAL:ve.VERTICAL:i){case ve.VERTICAL:{const i=Math.abs(s)<=_.Ll?e:r.viewUp;(0,c.b)(a,i,t),(0,c.c)(d,t);break}case ve.HORIZONTAL:(0,c.b)(a,r.viewUp,t),(0,c.b)(d,t,a);break;case ve.TILTED:{const i=Math.abs(s)<=_.Ll?t:r.viewUp;(0,c.b)(a,i,e),(0,c.b)(d,e,a);break}}const l=(0,c.b)(b.rq.get(),a,d);(0,c.m)(l,r.viewForward)>0&&(0,c.j)(d,d,-1),(0,c.n)(n,a),(0,c.n)(o,d)}(t,s.worldUpAtPosition(e,b.rq.get()),n,o,a.basis1,a.basis2),(0,c.j)(a.basis1,a.basis1,r),(0,c.j)(a.basis2,a.basis2,i),(0,c.c)(a.origin,e),(0,h.mR)(a.basis2,a.basis1,a.origin,a.plane),a}function te(e,t,r,i,n,o){const s=(0,c.c)(b.rq.get(),n.origin);(0,c.g)(s,s,(0,c.j)(b.rq.get(),n.basis1,e.direction[0]<0?1:-1)),(0,c.g)(s,s,(0,c.j)(b.rq.get(),n.basis2,e.direction[1]<0?1:-1));const a=(0,c.l)(n.basis1),d=(0,c.l)(n.basis2),l=(0,c.f)(b.rq.get(),r,s),u=(0,c.f)(b.rq.get(),t,s);let h=0,p=0;if(pe(e)){const t=he(n),r=he(o);h=a-.5*e.direction[0]*(0,c.m)(n.basis1,u)/a,p=d-.5*e.direction[1]*(0,c.m)(n.basis2,u)/d;const i=r/t;h*=i,p*=i}const f=h+.5*e.direction[0]*(0,c.m)(n.basis1,l)/a,m=p+.5*e.direction[1]*(0,c.m)(n.basis2,l)/d,w=(0,c.j)(b.rq.get(),n.basis1,f/a),A=(0,c.j)(b.rq.get(),n.basis2,m/d);(f<=0||ue(o.origin,w,i)<=_.Sw)&&(0,c.c)(w,o.basis1),(m<=0||ue(o.origin,A,i)<=_.Sw)&&(0,c.c)(A,o.basis2);const T=(0,c.c)(b.rq.get(),s);return(0,c.g)(T,T,(0,c.j)(b.rq.get(),w,e.direction[0]<0?-1:1)),(0,c.g)(T,T,(0,c.j)(b.rq.get(),A,e.direction[1]<0?-1:1)),(0,g.f)(T,w,A,o)}function re(e,t){return _.aE*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function ie(e,t,r,i){const n=(0,c.b)(b.rq.get(),t,r);return(0,c.b)(n,n,t),(0,h.O_)(e,n,i)}function ne(e,t){return(0,A.wQ)(e.basis1,e.basis2,e.origin,t)}function oe(e,t,r,i){const n=t.worldUpAtPosition(e.origin,b.rq.get()),o=b.rq.get();switch(r){case Oe.HEADING:(0,c.c)(o,n);break;case Oe.TILT:(0,c.c)(o,e.basis1)}return(0,h.O_)(e.origin,o,i)}function se(e,t,r,i){const n=le(r,Y.NEGATIVE_X),o=b.Rc.get();(0,a.Qr)(o,t,n.edge*Math.PI/2);const l=(0,c.n)(b.rq.get(),n.basis);let u=(0,c.j)(b.rq.get(),l,n.direction*i.computeScreenPixelSizeAt(n.position)*_.I4);(0,c.g)(u,u,n.position);const h=i.projectToRenderScreen(u,(0,s.sc)(b.rq.get())),p=function(e,t){const[r,i,n,o]=e.viewport,s=Math.min(n,o)/16;let a=!0;return t[0]<r+s?(t[0]=r+s,a=!1):t[0]>r+n-s&&(t[0]=r+n-s,a=!1),t[1]<i+s?(t[1]=i+s,a=!1):t[1]>i+o-s&&(t[1]=i+o-s,a=!1),a}(i,h);(0,X.RI)(i,h,Ee),(0,c.n)(Ee.direction,Ee.direction);const f=b.rq.get();!p&&(0,g.i)(r,Ee,f)&&(u=f),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=(0,d.o8)(u),p?e.state|=Me:e.state&=~Me}function ae(e,t,r,i){const n=(0,c.l)(i.basis1),o=(0,c.l)(i.basis2),s=ge(i),d=he(i),l=(0,c.s)(b.rq.get(),0,0,0);(0,c.g)(l,(0,c.j)(b.rq.get(),i.basis1,t.direction[0]),(0,c.j)(b.rq.get(),i.basis2,t.direction[1])),(0,c.g)(l,i.origin,l);let u=0,g=1;if(pe(t))1===t.direction[0]&&-1===t.direction[1]?u=Ie:1===t.direction[0]&&1===t.direction[1]?u=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(u=3*Math.PI/2),g=d;else{const e=0!==t.direction[0]?1:2;u=1===e?Ie:0,g=(1===e?o:n)-s}const h=(0,a.N9)(b.Rc.get(),u);(0,a.hs)(h,h,(0,c.s)(b.rq.get(),g,g,g)),(0,a.lw)(h,r,h),h[12]=0,h[13]=0,h[14]=0,e.modelTransform=h,e.renderLocation=l}function ce(e,t,r,i){const n=i.worldUpAtPosition(r.origin,b.rq.get()),o=le(r,Y.POSITIVE_X),s=(0,a.N9)(b.Rc.get(),o.edge*Math.PI/2);(0,a.eL)(s,s,-_e(r,n)),(0,a.lw)(s,t,s),s[12]=0,s[13]=0,s[14]=0,e.modelTransform=s,e.renderLocation=o.position}function de(e,t,r){const i=le(r,Y.POSITIVE_Y),n=(0,a.N9)(b.Rc.get(),i.edge*Math.PI/2);(0,a.eL)(n,n,Ie),(0,a.lw)(n,t,n),n[12]=0,n[13]=0,n[14]=0,e.modelTransform=n,e.renderLocation=i.position}function le(e,t){switch(t){case Y.POSITIVE_X:return{basis:e.basis1,direction:1,position:(0,c.g)(b.rq.get(),e.origin,e.basis1),edge:t};case Y.POSITIVE_Y:return{basis:e.basis2,direction:1,position:(0,c.g)(b.rq.get(),e.origin,e.basis2),edge:t};case Y.NEGATIVE_X:return{basis:e.basis1,direction:-1,position:(0,c.f)(b.rq.get(),e.origin,e.basis1),edge:t};case Y.NEGATIVE_Y:return{basis:e.basis2,direction:-1,position:(0,c.f)(b.rq.get(),e.origin,e.basis2),edge:t}}}function ue(e,t,r){const i=r.projectToRenderScreen((0,c.g)(b.rq.get(),e,t),(0,s.sc)(b.rq.get())),n=r.projectToRenderScreen((0,c.f)(b.rq.get(),e,t),(0,s.sc)(b.rq.get()));return(0,c.q)((0,c.f)(i,i,n))}function ge(e){const t=(0,c.l)(e.basis1),r=(0,c.l)(e.basis2);return _.Jj*Math.min(t,r)}function he(e){return ge(e)}function pe(e){return 0!==e.direction[0]&&0!==e.direction[1]}function fe(e){return new T.t({view:e,attached:!1,color:(0,m.qb)(e.effectiveTheme),width:_.NT,renderOccluded:I.m$.OccludeAndTransparent,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]],isDecoration:!0})}function be(e){return new $({view:e,attached:!1,backgroundColor:m.E$,gridColor:(0,m.Or)(e.effectiveTheme),gridWidth:4,renderOccluded:I.m$.OccludeAndTransparent,isDecoration:!0})}function me(e,t,r,n=new i.A){if(null==e)return null;const{renderCoordsHelper:s}=t,a=s.fromRenderCoords(e.origin,new Q.A({spatialReference:t.spatialReference}));if(null==a)return null;const d=(0,l.tryProjectWithZConversion)(a,r);if(null==d)return null;n.position=d;const u=2*(0,c.l)(e.basis1),g=2*(0,c.l)(e.basis2),h=z.d.renderUnitScaleFactor(t.spatialReference,r);n.width=u*h,n.height=g*h;const p=s.worldUpAtPosition(e.origin,b.rq.get());return n.tilt=(0,o.KJ)(_e(e,p)),n.heading=s.headingAtPosition(e.origin,e.basis1)-90,n}function _e(e,t){return(0,f.EJ)(t,e.basis2,e.basis1)+Ie}function we(e,t){if(null==e?.position)return null;const r=(0,w.B)(e.position,t.spatialReference,t.elevationProvider);if(null==r)return null;const i=z.d.renderUnitScaleFactor(e.position.spatialReference,t.spatialReference),n=e.width*i,o=e.height*i;return{position:r,heading:e.heading,tilt:e.tilt,renderWidth:n,renderHeight:o}}function Ae(e,t,r,i=(0,g.a)()){if(null==e)return null;const s=function(e,t,r,i,s,a,d=(0,g.a)()){return a.toRenderCoords(e,d.origin)?(a.worldBasisAtPosition(d.origin,u._.X,d.basis1),a.worldBasisAtPosition(d.origin,u._.Y,d.basis2),(0,h.mR)(d.basis2,d.basis1,d.origin,d.plane),(0,g.r)(d,-(0,o.kU)(t),(0,g.n)(d),d),(0,g.r)(d,(0,o.kU)(r),d.basis1,d),(0,c.j)(d.basis1,d.basis1,i/2),(0,c.j)(d.basis2,d.basis2,s/2),(0,g.u)(d),d):(n.A.getLogger("esri.views.3d.analysis.Slice.sliceToolUtils").error(`Failed to project slice plane position, projection from ${e.spatialReference.wkid} is not supported`),null)}(e.position,e.heading,e.tilt,e.renderWidth,e.renderHeight,t.renderCoordsHelper,i);return r.tiltEnabled||null==s||function(e,t,r){const i=t.worldUpAtPosition(e.origin,b.rq.get()),n=e.basis1,o=_e(e,i),s=Math.round(o/Ie)*Ie;(0,g.r)(e,s-o,n,r)}(s,t.renderCoordsHelper,s),s}(J=Y||(Y={}))[J.POSITIVE_X=0]="POSITIVE_X",J[J.POSITIVE_Y=1]="POSITIVE_Y",J[J.NEGATIVE_X=2]="NEGATIVE_X",J[J.NEGATIVE_Y=3]="NEGATIVE_Y";const Te=K.SJ.Custom1;var Oe,ve;!function(e){e[e.HEADING=1]="HEADING",e[e.TILT=2]="TILT"}(Oe||(Oe={})),function(e){e[e.HORIZONTAL_OR_VERTICAL=0]="HORIZONTAL_OR_VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.TILTED=3]="TILTED"}(ve||(ve={}));const Me=K.SJ.Custom2,Ee=(0,p.vt)(),Ie=Math.PI/2,Ce=K.SJ.Custom1,Re=K.SJ.Custom2;function Pe(e){return null!=("building-scene-3d"===e.type?e:null)}}}]);